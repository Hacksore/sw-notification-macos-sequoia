<html>

<head>
  <title>My Web Page</title>
  <!-- regionster sw.js as a service worker  -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('sw.js').then(function(registration) {
          console.log('Service Worker registered with scope:', registration.scope);
        }, function(err) {
          console.log('Service Worker registration failed:', err);
        });
      });
    }

    // ask for permission to show notifications
    Notification.requestPermission().then(function(permission) {
      if (permission === 'granted') {
        console.log('Notification permission granted.');
      } else {
        console.log('Notification permission denied.');
      }
    });

    function sendToServiceWorker() {
      const n = new Notification('Hello from the main thread!');

      if (navigator.serviceWorker.controller) {
        navigator.serviceWorker.controller.postMessage('Hello from the main thread!');
      }
    }
  </script>
</head>

<body>
  <h1>Welcome to My Web Page</h1>
  <p>This is a simple web page.</p>
  <button onclick="sendToServiceWorker()">send to service woker</button>
</body>

</html>
